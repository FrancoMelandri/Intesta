{
	"settings":{
		"userAgent" : "native-mobile-yoox/2.0 v.4.2.1(build 3370) iPhone4,1 iPhone OS 7.1.2",
		"Environment" : "LCL",
		"siteCode" : "YOOX_IT"
	},
	"operations" : [
		{
			"name": "keepAlive_1",
			"operation": "keepAlive"
		},
		{
			"name": "DoLogin",
			"operation": "login",
			"paramSources": {
				"email": "franco.melandri@yoox.com",
				"password" : "password"
			}
		},
		{
			"name": "ValidateLogin",
			"operation": "valuidatelogin",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"hash" : "{DoLogin.Hash}"			
			}
		},
		{
			"name": "Additem",
			"operation": "additem",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}",
				"code10": "44720632DO",
				"size": 9
			}
		},
		{
			"name": "GetCart",
			"operation": "cart",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}"
			},
			"assertions":[
				{
					"field": "{GetCart.Checkout.Cart.Order.MaxItems}",
					"comparison": "eq",
					"value": 10
				}			
			]
		},
		{
			"name": "SetReceiver",
			"operation": "setreceiver",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}",
				"contact.name" : "samnple",
				"contact.surname" :  "sample",
				"contact.phone": "121212121212",
				"contact.careof": "careof",
				"contact.email": "aa@aa.com",
				"contact.mobile": "121212122121",
				"contact.vatnumber": "1212121212121",
				"contact.streetwithnumber": "streetwithnumber",
				"contact.region": "region",
				"contact.postalcode": "12345",
				"contact.city": "city",
				"contact.countrycode": "IT",
				"contact.japanesename": "japanesename",
				"contact.japanesesurname": "japanesesurname",
				"contact.furigamaname": "fur name",
				"contact.furigamasurname": "fur surname"
			}
		},
		{
			"name": "SetSender",
			"operation": "setsender",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}",
				"contact.name" : "samnple",
				"contact.surname" :  "sample",
				"contact.phone": "121212121212",
				"contact.careof": "careof",
				"contact.email": "aa@aa.com",
				"contact.mobile": "121212122121",
				"contact.vatnumber": "1212121212121",
				"contact.streetwithnumber": "streetwithnumber",
				"contact.region": "region",
				"contact.postalcode": "12345",
				"contact.city": "city",
				"contact.countrycode": "IT",
				"contact.japanesename": "japanesename",
				"contact.japanesesurname": "japanesesurname",
				"contact.furigamaname": "fur name",
				"contact.furigamasurname": "fur surname"
			}
		},
		{
			"name": "SetPayment",
			"operation": "setpaymenttype",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}",
				"paymenttype" : 1
			}
		},
		{
			"name": "SetCreditCard",
			"operation": "setcreditcard",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}",
				"creditcard.holdername" :  "holdername",
				"creditcard.holdersurname": "holdersurname",
				"creditcard.holderaddress": "holderaddress",
				"creditcard.holdercity": "holdercity",
				"creditcard.holderzip": "12345",
				"creditcard.holderemail": "aa@aa.com",
				"creditcard.cardnumber": "4023402340234023",
				"creditcard.type": "Visa",
				"creditcard.expirationmonth": "12",
				"creditcard.expirationyear": "18",
				"creditcard.cvv": "123",
				"creditcard.last4": "4023",
				"creditcard.holderisocountry": "IT",
				"creditcard.holderprovince": "BO"
			}
		},
		{
			"name": "Proceed",
			"operation": "proceed",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}",
				"step" : "cart",
				"hash" : "{DoLogin.Hash}"			
			},
			"assertions":[
				{
					"field": "{Proceed.NextStep.Step}",
					"comparison": "eq",
					"value": "confirmation"
				}			
			]
		},
		{
			"name": "Confirm",
			"operation": "confirmorder",
			"paramSources": {
				"userid" : "{DoLogin.User.idUser}",
				"accesstoken" : "{DoLogin.User.AccessToken}",
				"cartid" : "{DoLogin.CartInfo.CartId}",
				"carttoken" : "{DoLogin.CartInfo.CartToken}"
			},
			"assertions":[
				{
					"field": "{Confirm.Finalize.OrderNumber}",
					"comparison": "neq",
					"value": ""
				}			
			]
		}
	]
}